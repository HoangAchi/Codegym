<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <form name="maytinh">
        <fieldset>
            <legend>Máy tính đơn giản</legend>
            <input type="text" value="0" Name="so">
            <table>
                <tr>
                <td><input type="button" value="1" onclick="luutru(1)"></td>
                <td><input type="button" value="2" onclick="luutru(2)"></td>
                <td><input type="button" value="3" onclick="luutru(3)"></td>
                <td><input type="button" value="+" onclick="tinhtoan('+')"></td>
               </tr>
               <tr>
                <td><input type="button" value="4" onclick="luutru(4)"></td>
                <td><input type="button" value="5" onclick="luutru(5)"></td>
                <td><input type="button" value="6" onclick="luutru(6)"></td>
                <td><input type="button" value="-" onclick="tinhtoan('-')"></td>
               </tr>
               <tr>
                <td><input type="button" value="7" onclick="luutru(7)"></td>
                <td><input type="button" value="8" onclick="luutru(8)"></td>
                <td><input type="button" value="9" onclick="luutru(9)"></td>
                <td><input type="button" value="*" onclick="tinhtoan('*')"></td>
               </tr>
               <tr>
                <td><input type="button" value="C" onclick="ac()"></td>
                <td><input type="button" value="0" onclick="luutru(0)"></td>
                <td><input type="button" value="=" onclick="bang()"></td>
                <td><input type="button" value="/" onclick="tinhtoan('/')"></td>
               </tr>
            </table>
        </fieldset>
    </form>
    <script>
    var text ="",flag=1,flag1=2,flag2=2,an,oper="!",value=0;
    function luutru(A)
    {
        text=text+A;
        document.maytinh.so.value = text;
        if (flag==0)flag1
        an=eval(document.maytinh.so.value);
    }
    function tinhtoan(B)
    {
        if(flag2==1)
        {
            value=eval(document.maytinh.so.value);
            flag1=0,oper=B;
            text="";
        }else{
            calculate()
            oper=B;
            flag2=1;
            an=eval(document.maytinh.so.value);
        }
    }
    function bang()
        {
            if(flag1!=2){value=an;}
            calculate();
            flag1=3;
        } 
        function calculate()
        {
            if(oper=="+")ans=value+eval(document.maytinh.so.value)
            else if(oper=="-")ans=value-eval(document.maytinh.so.value)
            else if(oper=="*")ans=value*eval(document.maytinh.so.value)           
            else if(oper=="/")ans=value/eval(document.maytinh.so.value)        
            else if(oper=="!")ans=document.maytinh.so.value
            document.maytinh.so.value=ans;
            value=eval(document.maytinh.so.value);
            text="";
        }
        function ac()
            {
            text="";flag=1;flag1=1;value=0;ans=0;document.maytinh.so.value=0;oper="!",an=0,flag2=2
            }
    </script>
</body>
</html>